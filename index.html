<!DOCTYPE html>
<link rel="shortcut icon" href="logo.ico" type="image/x-icon">
<html lang="zh-Hant">
    
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Xu Yu-Chia's(許彧嘉) Blog！">
    <title>Xu Yu-Chia's Blog</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="script.js" defer></script>
    
</head>
    

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z4HJBBE2WF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Z4HJBBE2WF');
</script>

    
<body class="bg-gray-950 text-gray-200">
    <!-- 頂部導航欄 -->
    
    <header class="bg-gray-900 text-white p-4 shadow-md sticky top-0 z-10">
        <nav class="max-w-6xl mx-auto flex justify-between items-center">
            <div class="text-xl font-bold"><a href ="#home">Xu Yu-Chia's Blog</a></div>
            <ul class="flex space-x-6">
                <li><a href="#about" class="hover:text-gray-400">About Me</a></li>
                <li><a href="#projects" class="hover:text-gray-400">Project</a></li>
                <li><a href="#sports_record" class="hover:text-gray-400">Sports Record</a></li>
                <li><a href="#contact" class="hover:text-gray-400">Contact Me</a></li>
            </ul>
        </nav>
    </header>
    
    <!--
    <header class="bg-gray-900 text-white p-4 shadow-md sticky top-0 z-10">
        <nav class="max-w-6xl mx-auto flex justify-between items-center">
            <div class="text-xl font-bold">
                <a href="#home">Xu Yu-Chia's Blog</a>
            </div>
            <ul class="flex space-x-6 relative">
                <li><a href="#about" class="hover:text-gray-400">About Me</a></li>
                <li class="group relative">
                    <a href="#projects" class="hover:text-gray-400">Project</a>
                    <ul class="absolute hidden group-hover:block bg-gray-800 text-sm rounded shadow-lg mt-2 w-40">
                        <li><a href="#project1" class="block px-6 py-2 hover:bg-gray-700">中央大學工學院程式競賽</a></li>
                        <li><a href="#highschool-learning" class="block px-6 py-2 hover:bg-gray-700">高中自主學習</a></li>
                    </ul>
                </li>
                <li><a href="#blog" class="hover:text-gray-400">Other Blogs</a></li>
                <li><a href="#contact" class="hover:text-gray-400">Contact Me</a></li>
            </ul>
        </nav>
    </header>
    -->


    <!-- 主內容 -->
    <main class="max-w-6xl mx-auto p-8">
        <!-- 主頁內容 -->
        <section class="text-center py-20">
            <h1 class="text-4xl font-bold mb-4 interactive">歡迎來到Xu Yu-Chia's Blog</h1>
            <p class="text-lg text-gray-400">探索我的故事、專案和更多內容！</p>
        </section>
        
        
        <!-- 主頁（隱藏於主頁外） -->
        <section id="home" class="text-center py-20 hidden">
            <h1 class="text-4xl font-bold mb-4 interactive">歡迎來到Xu Yu-Chia's Blog</h1>
            <p class="text-lg text-gray-400">探索我的故事、專案和更多內容！</p>
        </section>
        
        <!-- 自我介紹（隱藏於主頁外） -->
        <section id="about" class="hidden">
            <h1 class="text-2xl font-bold mb-4 interactive">About Me</h1>
            <p class="interactive">嗨</p>
            <p class="interactive">我是許彧嘉</p>
            <p class="interactive">一位熱愛程式設計和跑步的開發者</p>
            <p class="interactive">我目前就讀中央大學(大一菜鳥</p>
            <p class="interactive">並對專案開發和學習新技術充滿熱情</p>
            <p class="interactive"> </p>
            <pre class="interactive">
            <a href ="#about" target="_blank" id="customLink">
                   __                   __
                  / /  ____    _____   / /
             __  / /  / __ \  / ___/  / __ \
            / /_/ /  / /_/ / (__  )  / / / /
            \____/   \____/ /____/  /_/ /_/
            </a>
            </pre>
            


        </section>

        <!-- 專案（隱藏於主頁外） -->
        <section id="projects" class="hidden">
            <h1 class="text-2xl font-bold mb-4 interactive">Project</h1>
            <ul class="space-y-4">
                <!-- 卡片 -->
                <li class="p-4 bg-gray-900 shadow rounded interactive">
                    <a href="#project1" class="block p-4 bg-gray-900 shadow rounded hover:bg-gray-800 transition">
                        <h2 class="text-xl font-semibold">工學院程式競賽</h2>
                        <p class="text-gray-400">中央大學工學院程式競賽擔任組長榮獲第一名的佳績</p>
                    </a>
                <!-- 高中自主學習卡片 -->
                <li class="p-4 bg-gray-900 shadow rounded interactive">
                    <a href="#project2" class="block p-4 bg-gray-900 shadow rounded hover:bg-gray-800 transition">
                        <h2 class="text-xl font-semibold">自主學習</h2>
                        <p class="text-gray-400">嘉義高中全年級自主學習成果發表榮獲佳作</p>
                    </a>
                </li>
                <!-- 高中自主學習卡片 -->
                <li class="p-4 bg-gray-900 shadow rounded interactive">
                    <a href="#project3" class="block p-4 bg-gray-900 shadow rounded hover:bg-gray-800 transition">
                        <h2 class="text-xl font-semibold">阿克曼轉向機構的研究與實作</h2>
                        <p class="text-gray-400">獲得1130315梯次小論文工程技術類甲等</p>
                    </a>
                </li>
            </ul>
        </section>


        <!-- Project1 Section -->
        <section id="project1" class="p-8 bg-gray-900 text-white rounded-2xl shadow-lg hidden">
            <!-- Title -->
            <header class="mb-8 text-center">
                <h1 class="text-4xl font-extrabold mb-4 text-cyan-400 hover:text-cyan-300 transition-all">
                    中央大學工學院程式競賽
                </h1>
                <h2 class="text-3xl font-bold text-cyan-300">
                    <span>C++ 程式設計專題：數據編碼與加密技術</span>
                </h2>
            </header>

            <!-- Video Section -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-cyan-200">成果影片</h3>
                <div class="flex justify-center">
                    <iframe class="rounded-lg shadow-md" width="560" height="315" src="https://www.youtube.com/embed/wvgr3S6WTZQ?si=6dRDctGfHAZ4SO4F" 
                        title="YouTube video player" frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
                    </iframe>
                </div>
            </div>

            <!-- Team Members -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-cyan-200">團隊成員</h3>
                <ul class="list-disc list-inside space-y-2 text-gray-300">
                    <li><span class="font-semibold text-cyan-400">組長：</span>許彧嘉</li>
                    <li><span class="font-semibold text-cyan-400">組員：</span>林祐豪、林冠廷、陳辰、郭峯升、黃博廷、黃紹威</li>
                </ul>
            </div>

            <!-- Project Purpose -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-cyan-200">專題主旨</h3>
                <p class="text-gray-300 leading-relaxed mb-4">
                    本專題目的在讓學生學習並掌握數據編碼與加密技術，這些技術在現代資訊安全中扮演著重要角色。
                </p>
                <p class="text-gray-300 leading-relaxed">
                    專題結合 Base64 編碼解碼和位移加密解密兩種基本技術，並將其應用在多次編碼與解碼流程中，挑戰學生的程式設計思維與問題解決能力。
                </p>
            </div>

            <!-- Goals & Learning Highlights -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-cyan-200">專題目標 & 學習重點</h3>
                <ul class="list-disc list-inside space-y-4 text-gray-300">
                    <li>
                        <strong class="text-cyan-400">Base64 編碼解碼：</strong>
                        學習資料轉換為 Base64 編碼以提升系統兼容性與安全性。
                    </li>
                    <li>
                        <strong class="text-cyan-400">位移加密算法：</strong>
                        理解簡單加密原理，為學習複雜加密技術奠定基礎。
                    </li>
                    <li>
                        <strong class="text-cyan-400">多次編碼與解碼處理：</strong>
                        學習多步驟數據處理的管理與應用。
                    </li>
                </ul>
            </div>

            <!-- Assignment Details -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-cyan-200">題目</h3>
                <h4 class="text-xl font-semibold mb-4 text-cyan-300">多層 Base64 與位移加密解密系統的設計與實作</h4>
                <p class="text-gray-300 mb-6">請撰寫一個 C++ 程式，實現以下功能：</p>

                <h4 class="text-xl font-semibold mb-4 text-cyan-300">功能要求</h4>
                <ul class="list-disc list-inside space-y-4 text-gray-300">
                    <li>
                        <strong class="text-cyan-400">多層 Base64 編碼與位移加密：</strong>
                        <ul class="list-disc list-inside ml-6 space-y-2">
                            <li>支援對輸入文字執行多層 Base64 編碼，並多次編碼後進行位移加密。</li>
                            <li>加密次數由密鑰控制。</li>
                        </ul>
                    </li>
                    <li>
                        <strong class="text-cyan-400">多層 Base64 解碼與位移解密：</strong>
                        <ul class="list-disc list-inside ml-6 space-y-2">
                            <li>解密過程與加密順序相反，層數與位移量由密鑰控制。</li>
                        </ul>
                    </li>
                </ul>
            </div>

            <!-- Conclusion -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-cyan-200">結論與展望</h3>
                <p class="text-gray-300 leading-relaxed">
                    多層加密系統雖存在挑戰，但透過結合其他加密演算法與多步驗證，安全性將進一步提升。未來將持續研究更強大的加密技術以確保資料安全。
                </p>
            </div>

            <!-- Code Section -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-cyan-200">程式碼：</h3>
                <pre class="bg-gray-800 text-gray-300 p-4 rounded-lg shadow-md overflow-auto">
                    <code class="language-cpp">
                    #include <bits/stdc++.h>
                    using namespace std;
                    
                    // 將索引值轉換為 Base64 字符
                    char indexToBase64Char(int index) {
                        if (index >= 0 && index <= 25) return 'A' + index; // A–Z
                        if (index >= 26 && index <= 51) return 'a' + (index - 26); // a–z
                        if (index >= 52 && index <= 61) return '0' + (index - 52); // 0–9
                        if (index == 62) return '+'; // +
                        if (index == 63) return '/'; // /
                        return '\0'; // 非法值
                    }
                    
                    // 將 Base64 字符轉換為索引值
                    int base64CharToIndex(char c) {
                        if (c >= 'A' && c <= 'Z') return c - 'A'; // A–Z
                        if (c >= 'a' && c <= 'z') return c - 'a' + 26; // a–z
                        if (c >= '0' && c <= '9') return c - '0' + 52; // 0–9
                        if (c == '+') return 62; // +
                        if (c == '/') return 63; // /
                        return -1; // 非法字符
                    }
                    
                    // Base64 編碼
                    string base64Encode(const string &input) {
                        string binaryData = "", encoded = "";
                        for (int i = 0; i < input.size(); i++) {
                            bitset<8> bits(static_cast<unsigned char>(input[i]));
                            binaryData += bits.to_string();
                        }
                        while (binaryData.size() % 6 != 0) binaryData += "0";
                        for (int i = 0; i < binaryData.size(); i += 6) {
                            bitset<6> bits(binaryData.substr(i, 6));
                            int index = static_cast<int>(bits.to_ulong());
                            encoded += indexToBase64Char(index);
                        }
                        while (encoded.size() % 4 != 0) encoded += '=';
                        return encoded;
                    }
                    
                    // Base64 解碼
                    string base64Decode(const string &input) {
                        string binaryData = "", decoded = "";
                        size_t padding = 0;
                        string strippedInput = input;
                    
                        // 使用 for 迴圈移除 '=' 填充字符
                        for (int i = strippedInput.size() - 1; i >= 0 && strippedInput[i] == '='; i--) {
                            strippedInput.erase(i, 1);  // 用 erase 移除 '=' 填充字符
                            padding++;
                        }
                    
                        for (int i = 0; i < strippedInput.size(); i++) {
                            int index = base64CharToIndex(strippedInput[i]);
                            if (index == -1) return "解碼失敗";
                            bitset<6> bits(index);
                            binaryData += bits.to_string();
                        }
                    
                        if (padding > 0) binaryData.erase(binaryData.end() - padding * 2, binaryData.end());
                        for (int i = 0; i < binaryData.size(); i += 8) {
                            bitset<8> bits(binaryData.substr(i, 8));
                            decoded += static_cast<char>(bits.to_ulong());
                        }
                        return decoded;
                    }
                    
                    // 位移加密
                    string shiftEncrypt(const string &input, int k) {
                        string encrypted = "";
                        for (int i = 0; i < input.size(); i++) {
                            char c = input[i];
                            if (c >= 32 && c <= 126) {
                                char shifted = (c - 32 + k) % 95 + 32;
                                encrypted += shifted;
                            } else {
                                encrypted += c; // 非可見字符保持不變
                            }
                        }
                        return encrypted;
                    }
                    
                    // 位移解密
                    string shiftDecrypt(const string &input, int k) {
                        string decrypted = "";
                        for (int i = 0; i < input.size(); i++) {
                            char c = input[i];
                            if (c >= 32 && c <= 126) {
                                char shifted = (c - 32 - k + 95) % 95 + 32;
                                decrypted += shifted;
                            } else {
                                decrypted += c; // 非可見字符保持不變
                            }
                        }
                        return decrypted;
                    }
                    
                    // 主程式
                    int main() {
                        string mode, input;
                        int n, k;
                    
                        cout << "歡迎使用簡化加密解密系統" << endl << endl;
                        cout << "請輸入模式 (E 表示編碼, D 表示解碼): ";
                        cin >> mode;
                        cin.ignore();
                        cout << "請輸入字串: ";
                        getline(cin, input);
                        cout << "請輸入密鑰1(建議小一點): ";
                        cin >> n;
                        cout << "請輸入密鑰2: ";
                        cin >> k;
                    
                        if (mode == "E") {
                            for (int i = 0; i < n; i++) {
                                input = base64Encode(input);
                                input = shiftEncrypt(input, k);
                            }
                            cout << "加密後結果: " << input << endl;
                        } else if (mode == "D") {
                            for (int i = 0; i < n; i++) {
                                input = shiftDecrypt(input, k);
                                input = base64Decode(input);
                                if (input == "解碼失敗") {
                                    cout << "解碼失敗" << endl;
                                    return 0;
                                }
                            }
                            cout << "解碼後結果: " << input << endl;
                        } else {
                            cout << "無效的模式！請輸入 'E' 或 'D'。" << endl;
                        }
                    
                        return 0;
                    }

                    </code>
                </pre>
            </div>
        </section>

        
        <!-- Project2 Section -->
        <section id="project2" class="p-8 bg-gray-900 text-white rounded-2xl shadow-lg hidden">
            <!-- Title -->
            <header class="mb-8 text-center">
                <h1 class="text-4xl font-extrabold mb-4 text-cyan-400 hover:text-cyan-300 transition-all">
                    Arduino 電子元件運用與實作
                </h1>
                <h2 class="text-3xl font-bold text-cyan-300">
                    <span>高精度溫濕度計與俄羅斯方塊</span>
                </h2>
            </header>

            <!-- Video Section -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-cyan-200">專案影片</h3>
                <div class="flex justify-center">
                    <iframe class="rounded-lg shadow-md" width="560" height="315" src="https://www.youtube.com/embed/fHl4a61_1b4" 
                        title="YouTube video player" frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
                    </iframe>
                </div>
            </div>

            <!-- Project Overview -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-cyan-200">專案簡介</h3>
                <p class="text-gray-300 leading-relaxed mb-4">
                    本專案旨在學習並熟悉 Arduino 電子元件的使用，透過設計與實作高精度溫濕度計與俄羅斯方塊，讓我更深入了解電子元件與通訊協定的應用。
                </p>
                <p class="text-gray-300 leading-relaxed">
                    專案包括學習 OLED 顯示器、溫濕度感測器（DHT11、AHT10）以及 LED 矩陣等元件，並應用 I2C 與 SPI 通訊協定完成實作。
                </p>
            </div>

            <!-- Goals & Outcomes -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-cyan-200">專題目標 & 預期成果</h3>
                <ul class="list-disc list-inside space-y-4 text-gray-300">
                    <li>
                        <strong class="text-cyan-400">高精度溫濕度計：</strong>
                        結合 AHT10 感測器與 OLED(SPI) 顯示器，實現準確顯示溫濕度數據。
                    </li>
                    <li>
                        <strong class="text-cyan-400">俄羅斯方塊遊戲：</strong>
                        利用按鈕與 LED 矩陣模組實作經典的俄羅斯方塊，提升遊戲互動體驗。
                    </li>
                </ul>
            </div>

            <!-- Technical Highlights -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-cyan-200">技術亮點</h3>
                <ul class="list-disc list-inside space-y-4 text-gray-300">
                    <li>
                        <strong class="text-cyan-400">通訊協定學習：</strong>
                        熟悉 I2C 與 SPI 通訊協定，應用於元件間的資料傳輸。
                    </li>
                    <li>
                        <strong class="text-cyan-400">元件整合：</strong>
                        融合多個電子元件如 DHT11、AHT10、OLED 顯示器和 LED 矩陣。
                    </li>
                    <li>
                        <strong class="text-cyan-400">程式設計挑戰：</strong>
                        解決如複雜條件判斷、元件驅動程式撰寫等技術難點。
                    </li>
                </ul>
            </div>

            <!-- Challenges & Reflection -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-cyan-200">挑戰與反思</h3>
                <p class="text-gray-300 leading-relaxed mb-4">
                    在實作過程中，遇到多次元件接腳錯誤與程式邏輯問題，特別是 LED 矩陣顯示控制的複雜性。但這些挑戰也提升了我的除錯能力與對元件操作的熟練度。
                </p>
                <p class="text-gray-300 leading-relaxed">
                    這次專案讓我更加理解電子元件的運作原理，同時也激發了對電子工程的更大興趣，期待未來能挑戰更複雜的專案設計。
                </p>
            </div>
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-cyan-200">作品圖片</h3>
                <img src="tetris.png" height="444" width="562" alt="tetris">
            </div>
            
            <!-- Project Code -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-cyan-200">俄羅斯方塊程式碼：</h3>
                <pre class="bg-gray-800 text-gray-300 p-4 rounded-lg shadow-md overflow-auto">
                    <code class="language-cpp">
                    #include <LedControl.h>
                    #define INI_speed 500 //初始速度 單位ms

                    //按鈕腳位定義
                    #define Rotate 2
                    #define Right 3
                    #define Left 4
                    #define Down 5

                    //LED陣列腳未定義
                    #define CIN 6
                    #define CS 7
                    #define CLK 8

                    //長寬
                    #define Width 8
                    #define Height 10

                    class Timer
                    {
                      private:
                        long Time;

                      public:
                        void TimerShutdown()
                        {
                          Time = -1;
                        }

                        void TimerSet()
                        {
                          Time = millis();
                        }

                        bool TimerTimeout(long Millis)
                        {
                          long C_Time = millis();
                          if ((C_Time - Time) < Millis || Time == -1)
                          {
                            return false;
                          }
                          else
                          {
                            return true;
                          }
                        }
                    };

                    /*
                      方塊種類定義
                      0  | 1 | 2
                      ___|___|___
                      3  | 4 | 5
                      ___|___|___
                      6  | 7 | 8
                    */

                    //Blocktype[方塊種類][選轉次數][補正碼] 
                    /*
                       補正碼
                       以4為中心x、y的相對位置
                    */

                    int Blocktype[7][4][4] = {
                      {{3, 4, 5, 4}, {1, 4, 7, 4}, {3, 4, 5, 4}, {1, 4, 7, 4}}, //0  I
                      {{0, 1, 3, 4}, {0, 1, 3, 4}, {0, 1, 3, 4}, {0, 1, 3, 4}}, //1  O
                      {{1, 3, 4, 5}, {1, 4, 5, 7}, {3, 4, 5, 7}, {1, 3, 4, 7}}, //2  T
                      {{1, 2, 3, 4}, {1, 4, 5, 8}, {4, 5, 6, 7}, {0, 3, 4, 7}}, //3  S
                      {{0, 1, 4, 5}, {2, 4, 5, 7}, {3, 4, 7, 8}, {1, 3, 4, 6}}, //4  Z
                      {{0, 3, 4, 5}, {1, 2, 4, 7}, {3, 4, 5, 8}, {1, 4, 6, 7}}, //5  J
                      {{2, 3, 4, 5}, {1, 4, 7, 8}, {3, 4, 5, 6}, {0, 1, 4, 7}}  //6  L
                    };



                    int x_c[9] = { -1, 0, 1, -1, 0, 1, -1, 0, 1};
                    int y_c[9] = { -1, -1, -1, 0, 0, 0, 1, 1, 1};

                    //狀態定義
                    int gravity = INI_speed;   //重力(掉落速度)
                    int state = -1;            //狀態
                    int T_map[Height][Width];  //地圖矩陣
                    int C_block = -1;          //目前方塊種類
                    int C_rotate = 0;          //目前旋轉狀態
                    int C_pos[2];              //目前方塊4號位置 0->y , 1->x;
                    int score = 0;             //分數


                    bool legit = true;         //檢測動作是否合法

                    Timer Timer1[10];
                    LedControl LC = LedControl(CIN, CLK, CS, 1); //LED矩陣物件

                    /*
                       左上角為原點
                       向右為+
                       向下為+
                    */

                    void Update(int Map[Height][Width])
                    {
                      for (int i = 2; i < Height; i++)
                      {
                        for (int j = 0; j < Width; j++)
                        {
                          bool temp;
                          if (Map[i][j] == 0)
                          {
                            temp = false;
                          }
                          else
                          {
                            temp = true;
                          }
                          LC.setLed(0, j, 9 - i, temp);
                          //Serial.print(Map[i][j]);
                        }
                        //Serial.println();
                      }
                    }

                    void C_Rotate(int nextstate)
                    {
                      legit = true;
                      int New_rotate = (C_rotate + 1) % 4;
                      for (int i = 0; i < 4; i++)
                      {
                        int n = Blocktype[C_block][New_rotate][i];
                        int new_x = C_pos[1] + x_c[n];
                        int new_y = C_pos[0] + y_c[n];

                        if ( T_map[new_y][new_x] == 1 || new_x > 7 || new_x < 0 || new_y >= Height )
                        {
                          legit = false;
                          break;
                        }
                      }

                      if (legit)
                      {
                        for ( int i = 0 ; i < 4 ; i++ )
                        {
                          int n = Blocktype[C_block][C_rotate][i];
                          T_map[C_pos[0] + y_c[n]][C_pos[1] + x_c[n]] = 0;
                        }
                        C_rotate = New_rotate;
                        for (int i = 0; i < 4; i++)
                        {
                          int n = Blocktype[C_block][C_rotate][i];
                          int new_x = C_pos[1] + x_c[n];
                          int new_y = C_pos[0] + y_c[n];
                          T_map[new_y][new_x] = 2;
                        }
                      }
                      state = nextstate;
                      Update(T_map);
                    }

                    void C_Right(int nextstate)
                    {
                      legit = true;
                      for (int i = 0; i < 4; i++)
                      {
                        int n = Blocktype[C_block][C_rotate][i];
                        int new_x = C_pos[1] + x_c[n] + 1;
                        int new_y = C_pos[0] + y_c[n];
                        if ( T_map[new_y][new_x] == 1 || new_x > 7 )
                        {
                          legit = false;
                          break;
                        }
                      }

                      if (legit)
                      {
                        for (int i = 0; i < 4; i++)
                        {
                          int n = Blocktype[C_block][C_rotate][i];
                          int old_x = C_pos[1] + x_c[n];
                          int old_y = C_pos[0] + y_c[n];
                          T_map[old_y][old_x] = 0;
                        }
                        C_pos[1] += 1;
                        for (int i = 0; i < 4; i++)
                        {
                          int n = Blocktype[C_block][C_rotate][i];
                          int new_x = C_pos[1] + x_c[n];
                          int new_y = C_pos[0] + y_c[n];
                          T_map[new_y][new_x] = 2;
                        }
                      }
                      state = nextstate;
                      Update(T_map);
                    }

                    void C_Left(int nextstate)
                    {
                      legit = true;
                      for (int i = 0; i < 4; i++)
                      {
                        int n = Blocktype[C_block][C_rotate][i];
                        int new_x = C_pos[1] + x_c[n] - 1;
                        int new_y = C_pos[0] + y_c[n];
                        if (T_map[new_y][new_x] == 1 || new_x < 0)
                        {
                          legit = false;
                          break;
                        }
                      }

                      if (legit)
                      {
                        for (int i = 0; i < 4; i++)
                        {
                          int n = Blocktype[C_block][C_rotate][i];
                          int old_x = C_pos[1] + x_c[n];
                          int old_y = C_pos[0] + y_c[n];
                          T_map[old_y][old_x] = 0;
                        }
                        C_pos[1] -= 1;
                        for (int i = 0; i < 4; i++)
                        {
                          int n = Blocktype[C_block][C_rotate][i];
                          int new_x = C_pos[1] + x_c[n];
                          int new_y = C_pos[0] + y_c[n];
                          T_map[new_y][new_x] = 2;
                        }
                      }
                      state = nextstate;
                      Update(T_map);
                    }

                    void C_Down(int nextstate)
                    {
                      legit = true;
                      for (int i = 0; i < 4; i++)
                      {
                        int n = Blocktype[C_block][C_rotate][i];
                        int new_x = C_pos[1] + x_c[n];
                        int new_y = C_pos[0] + y_c[n] + 1;
                        if (T_map[new_y][new_x] == 1 || new_y >= Height)
                        {
                          legit = false;
                          break;
                        }
                      }
                      for (int i = 0; i < 4; i++)
                      {
                        int n = Blocktype[C_block][C_rotate][i];
                        int old_x = C_pos[1] + x_c[n];
                        int old_y = C_pos[0] + y_c[n];

                        if (legit)
                        {
                          T_map[old_y][old_x] = 0;
                        }
                        else
                        {
                          T_map[old_y][old_x] = 1;
                        }

                      }
                      if (legit)
                      {
                        C_pos[0] += 1;
                        for (int i = 0; i < 4; i++)
                        {
                          int n = Blocktype[C_block][C_rotate][i];
                          int new_x = C_pos[1] + x_c[n];
                          int new_y = C_pos[0] + y_c[n];
                          T_map[new_y][new_x] = 2;
                        }
                        state = nextstate;
                      }
                      else
                      {
                        for (int i = 0; i < Height ; i++)
                        {
                          bool check = true;
                          for (int j = 0; j < Width; j++)
                          {
                            if (T_map[i][j] != 1)
                            {
                              check = false;
                              break;
                            }
                          }
                          if (check == false)
                          {
                            continue;
                          }
                          else
                          { 
                            score += 10;
                            gravity = INI_speed - score;
                            Update(T_map);
                            delay(10);
                            for (int j = i ; j >= 1 ; j--)
                            {
                              for (int k = 0 ; k < Width ; k++)
                              {
                                T_map[j][k] = T_map[j - 1][k];
                              }
                            }
                            for (int k = 0 ; k < Width ; k++)
                            {
                              T_map[0][k] = 0;
                            }
                            Update(T_map);
                          }
                        }
                        bool over = false;
                        for (int i = 0; i < Width ; i++)
                        {
                          if (T_map[1][i] == 1)
                          {
                            over = true;
                            break;
                          }
                        }
                        if (over)
                        {
                          for (int i = Height - 1; i >= 1; i--)
                          {
                            for (int j = 0; j < 8; j++)
                            {
                              T_map[i][j] = 0;
                              LC.setLed(0, i - 1, j, false);
                              Update(T_map);
                            }
                          }
                          state = -1;
                        }
                        else
                        {
                          state = 15;
                        }
                      }
                      Timer1[0].TimerSet();
                      Update(T_map);
                    }

                    void setup()
                    {
                      Serial.begin(9600);

                      //定義接角模式
                      pinMode(Rotate, INPUT);
                      pinMode(Right, INPUT);
                      pinMode(Left, INPUT);
                      pinMode(Down, INPUT);

                      pinMode(CIN, OUTPUT);
                      pinMode(CS, OUTPUT);
                      pinMode(CLK, OUTPUT);
                      pinMode(A0, INPUT);

                      randomSeed(analogRead(A0));   //產生隨機種子碼，A0空接會取得空氣中電壓，可視為亂碼
                      C_block = random(7); 

                      //LED矩陣開啟
                      LC.shutdown(0, false);

                      //LED矩陣挑整亮度(0~15)
                      LC.setIntensity(0, 5);

                      for (int i = 0 ; i < 10; i++) //重設所有計時器
                      {
                        Timer1[i].TimerShutdown();
                      }

                      //清空地圖
                      for (int i = 0; i < Height; i++)
                      {
                        for (int j = 0; j < Width; j++)
                        {
                          T_map[i][j] = 0;
                        }
                      }
                    }
                    void loop()
                    {
                      Serial.println(state);
                      switch (state)
                      {
                        case -1://數值初始化
                          score = 0;
                          gravity = INI_speed;
                          for (int i = 0 ; i < 10; i++) //重設所有計時器
                          {
                            Timer1[i].TimerShutdown();
                          }
                          for (int i = 0; i <= 8; i++)
                          {
                            for (int j = 0; j < 8; j++)
                            {
                              T_map[i][j] = 0;
                            }
                          }
                          state = 0;
                          break;


                        case 0:
                          if (digitalRead(Rotate) == HIGH)
                          {
                            state = 10;
                          }
                          break;

                        case 10:
                          if (digitalRead(Rotate) == LOW)
                          {
                            state = 14;
                          }
                          break;

                        case 14:
                          for (int i = 0; i < Height; i++)
                          {
                            for (int j = 0; j < 8; j++)
                            {
                              T_map[i][j] = 0;
                            }
                            state = 15;
                          }
                          break;

                        case 15:                //產生隨機方塊
                          C_block = random(7);
                          C_pos[0] = 1;         //y
                          C_pos[1] = 4;         //x
                          C_rotate = 0;
                          state = 20;
                          break;

                        case 20:
                          Timer1[0].TimerSet();
                          state = 25;
                          break;

                        case 25://偵測按鈕
                          if (digitalRead(Rotate) == HIGH)
                          {
                            Serial.println("rotate");
                            Timer1[1].TimerSet();
                            state = 30;
                          }
                          else if (digitalRead(Right) == HIGH)
                          {
                            Serial.println("right");
                            Timer1[1].TimerSet();
                            state = 35;
                          }
                          else if (digitalRead(Left) == HIGH)
                          {
                            Serial.println("left");
                            Timer1[1].TimerSet();
                            state = 40;
                          }
                          else if (digitalRead(Down) == HIGH)
                          {
                            Serial.println("down");
                            Timer1[1].TimerSet();
                            state = 45;
                          }
                          break;

                        case 30://旋轉
                          if (digitalRead(Rotate) == LOW)
                          {
                            C_Rotate(25);
                          }
                          else if (Timer1[1].TimerTimeout(500))
                          {
                            Timer1[2].TimerSet();
                            state = 31;
                          }
                          break;

                        case 31:
                          if (digitalRead(Rotate) == LOW)
                          {
                            C_Rotate(25);
                          }
                          else if (Timer1[2].TimerTimeout(100))
                          {
                            Timer1[2].TimerSet();
                            C_Rotate(state);
                          }
                          break;


                        case 35://右移
                          if (digitalRead(Right) == LOW)
                          {
                            C_Right(25);
                          }
                          else if (Timer1[1].TimerTimeout(500))
                          {
                            Timer1[2].TimerSet();
                            state = 36;
                          }
                          break;

                        case 36:
                          if (digitalRead(Right) == LOW)
                          {
                            C_Right(25);
                          }
                          else if (Timer1[2].TimerTimeout(100))
                          {
                            Timer1[2].TimerSet();
                            C_Right(state);
                          }
                          break;

                        case 40://左移
                          if (digitalRead(Left) == LOW)
                          {
                            C_Left(25);
                          }
                          else if (Timer1[1].TimerTimeout(500))
                          {
                            Timer1[2].TimerSet();
                            state = 41;
                          }
                          break;

                        case 41:
                          if (digitalRead(Left) == LOW)
                          {
                            C_Left(25);
                          }
                          else if (Timer1[2].TimerTimeout(100))
                          {
                            Timer1[2].TimerSet();
                            C_Left(state);
                          }
                          break;

                        case 45://下移
                          if (digitalRead(Down) == LOW)
                          {
                            C_Down(25);
                          }
                          else if (Timer1[1].TimerTimeout(500))
                          {
                            Timer1[2].TimerSet();
                            state = 46;
                          }
                          break;

                        case 46:
                          if (digitalRead(Down) == LOW)
                          {
                            C_Down(25);
                          }
                          else if (Timer1[2].TimerTimeout(100))
                          {
                            Timer1[2].TimerSet();
                            C_Down(state);
                          }
                          break;
                      }

                      //Fall down
                      if (Timer1[0].TimerTimeout(gravity))
                      {
                        C_Down(state);
                      }
                    }

                    </code>
                </pre>
            </div>
        </section>

                              
        <!-- Project3 Section -->
        <section id="project3" class="p-8 bg-gray-800 text-white rounded-2xl shadow-lg hidden">
            <!-- Title -->
            <header class="mb-8 text-center">
                <h1 class="text-4xl font-extrabold mb-4 text-green-400 hover:text-green-300 transition-all">
                    阿克曼轉向機構的研究與實作
                </h1>
                <h2 class="text-3xl font-bold text-green-300">
                    <span>自走車實作與轉向系統應用</span>
                </h2>
            </header>
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-green-200">小論文</h3>
                <iframe src="ackermann.pdf" width="50%" height="600px"></iframe>
            </div>
            
            <!-- Project Overview -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-green-200">專案簡介</h3>
                <p class="text-gray-300 leading-relaxed mb-4">
                    本專案研究阿克曼轉向機構在自走車上的應用，實作一套靈活可靠的轉向系統，解決傳統轉向裝置的不足，並透過 Arduino 實現遙控及精準控制。
                </p>
                <p class="text-gray-300 leading-relaxed">
                    專案結合伺服馬達、紅外線遙控器與多種電子元件，探討轉向結構、車體設計與程式控制的最佳實踐。
                </p>
            </div>
        
            <!-- Goals & Outcomes -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-green-200">專題目標 & 預期成果</h3>
                <ul class="list-disc list-inside space-y-4 text-gray-300">
                    <li>
                        <strong class="text-green-400">阿克曼轉向系統：</strong>
                        實現符合阿克曼幾何理論的轉向結構，增強轉彎靈活性與穩定性。
                    </li>
                    <li>
                        <strong class="text-green-400">自主移動平台：</strong>
                        利用 Arduino 控制伺服馬達與 TT 馬達，搭建穩定的自走車底盤。
                    </li>
                    <li>
                        <strong class="text-green-400">多場景應用：</strong>
                        測試自走車在不同轉向半徑與環境中的應用價值。
                    </li>
                </ul>
            </div>
        
            <!-- Technical Highlights -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-green-200">技術亮點</h3>
                <ul class="list-disc list-inside space-y-4 text-gray-300">
                    <li>
                        <strong class="text-green-400">阿克曼理論應用：</strong>
                        理解並實現阿克曼比例計算，確保轉向時車輪角度精確。
                    </li>
                    <li>
                        <strong class="text-green-400">硬體整合：</strong>
                        包括 3D 列印車體、伺服馬達控制轉向、L298N 驅動動力輪。
                    </li>
                    <li>
                        <strong class="text-green-400">紅外線遙控：</strong>
                        使用紅外線遙控器進行多功能控制，如前進、後退、轉向與速度調整。
                    </li>
                </ul>
            </div>
            

            <!-- Challenges & Reflection -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-green-200">挑戰與反思</h3>
                <p class="text-gray-300 leading-relaxed mb-4">
                    在實作過程中，遇到車體結構設計、電源分配與紅外線干擾等挑戰，透過持續調整與測試，成功優化了自走車性能並解決問題。
                </p>
                <p class="text-gray-300 leading-relaxed">
                    這次研究讓我們更深入理解轉向機構的應用價值，同時也為未來機器人設計提供了寶貴經驗。
                </p>
            </div>
        
            <!-- Project Code -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold mb-4 text-green-200">參考資料</h3>
                <p class="text-gray-300 leading-relaxed">
                    專案程參考以下資源：
                </p>
                <ul class="list-disc list-inside space-y-2 text-gray-300">
                    <li><a href="https://reurl.cc/edr3Db" class="text-green-400 underline" target="_blank">阿克曼轉向相關程式碼</a></li>
                    <li><a href="https://www.maserati.com/tw/zh/models" class="text-green-400 underline" target="_blank">瑪莎拉蒂車型</a></li>
                </ul>
            </div>
        </section>

        <!-- 運動紀事 -->
        <section id="sports_record" class="hidden">
            <h1 class="text-3xl font-bold mb-6 text-center text-gradient">運動紀事</h1>
        
            <!-- 個人最佳紀錄 (PB) -->
            <div class="mb-8 bg-gradient-to-r from-indigo-600 via-blue-500 to-purple-600 p-6 rounded-lg shadow-xl">
                <h2 class="text-2xl font-semibold text-white mb-4">個人最佳紀錄 (PB)</h2>
                <ul class="space-y-4">
                    <li class="p-4 bg-gray-800 rounded-lg shadow-lg hover:scale-105 transform transition duration-300">
                        <p class="text-lg font-semibold text-blue-300">馬拉松：待完成</p>
                        <p class="text-gray-400">地點：待完成</p>
                    </li>
                    <li class="p-4 bg-gray-800 rounded-lg shadow-lg hover:scale-105 transform transition duration-300">
                        <p class="text-lg font-semibold text-blue-300">半馬： 1：49：56</p>
                        <p class="text-gray-400">地點：華航馬拉松，2024.10.12</p>
                    </li>
                    <li class="p-4 bg-gray-800 rounded-lg shadow-lg hover:scale-105 transform transition duration-300">
                        <p class="text-lg font-semibold text-blue-300">10K： 48：33</p>
                        <p class="text-gray-400">地點：北回10K測驗，2024.04.28</p>
                    </li>
                    <li class="p-4 bg-gray-800 rounded-lg shadow-lg hover:scale-105 transform transition duration-300">
                        <p class="text-lg font-semibold text-blue-300">5K： 22：19</p>
                        <p class="text-gray-400">地點：中央田徑隊測驗，2024.12.31</p>
                    </li>
                </ul>
            </div>
        
            <!-- 預計參加的賽事 -->
            <div class="mb-8 p-6 bg-gradient-to-r from-green-500 via-teal-400 to-cyan-300 rounded-lg shadow-xl">
                <h2 class="text-2xl font-semibold text-white mb-4">預計參加的賽事</h2>
                <ul class="space-y-4">
                    <li class="p-4 bg-gray-800 rounded-lg shadow-lg hover:scale-105 transform transition duration-300">
                        <p class="text-lg font-semibold text-teal-200">台北馬拉松_半馬</p>
                        <p class="text-gray-400">目標破百</p>
                    </li>
                    <li class="p-4 bg-gray-800 rounded-lg shadow-lg hover:scale-105 transform transition duration-300">
                        <p class="text-lg font-semibold text-teal-200">從缺</p>
                        <p class="text-gray-400">從缺</p>
                    </li>
                </ul>
            </div>
        
            <!-- 參加過的賽事 -->
            <div class="mb-8 p-6 bg-gradient-to-r from-pink-500 via-orange-400 to-yellow-300 rounded-lg shadow-xl">
                <h2 class="text-2xl font-semibold text-white mb-4">參加過的賽事</h2>
                <ul class="space-y-4">
                    <li class="p-4 bg-gray-800 rounded-lg shadow-lg hover:scale-105 transform transition duration-300">
                        <p class="text-lg font-semibold text-pink-300">2024華航馬拉松_半馬</p>
                        <p class="text-gray-400">2024.10.12，完賽時間： 1：49：56</p>
                    </li>
                    <li class="p-4 bg-gray-800 rounded-lg shadow-lg hover:scale-105 transform transition duration-300">
                        <p class="text-lg font-semibold text-pink-300">2024嘉義高中百年校慶路跑_半馬</p>
                        <p class="text-gray-400">2024.04.14，完賽時間： 1：57：32</p>
                    </li>
                    <li class="p-4 bg-gray-800 rounded-lg shadow-lg hover:scale-105 transform transition duration-300">
                        <p class="text-lg font-semibold text-pink-300">2024台南古都國際半程馬拉松_半馬</p>
                        <p class="text-gray-400">2024.04.14，完賽時間： 1：56：36</p>
                    </li>
                </ul>
            </div>
        </section>


        <!-- 聯絡我（隱藏於主頁外） -->
        <!-- Contact Section -->
        <section id="contact" class="hidden p-6 bg-gray-900 rounded-2xl shadow-lg">
            <h1 class="text-3xl font-extrabold mb-6 text-gray-100 interactive">📬 Contact Me</h1>
            <p class="mb-4 text-gray-200">如果有任何問題或合作機會，歡迎透過以下方式聯絡我：</p>
            <div class="space-y-4">
                <!-- Email -->
                <div class="flex items-center gap-4">
                    <i class="fas fa-envelope text-blue-500 text-2xl"></i>
                    <p>Email: 
                        <a href="mailto:joshyymmdd@gmail.com" class="text-blue-500 underline hover:text-blue-600" target="_blank" rel="noopener noreferrer">
                            joshyymmdd@gmail.com
                        </a>
                    </p>
                </div>
                <!-- Facebook -->
                <div class="flex items-center gap-4">
                    <i class="fab fa-facebook text-blue-600 text-2xl"></i>
                    <p>FB: 
                        <a href="https://www.facebook.com/vm.josh.5/" class="text-blue-500 underline hover:text-blue-600" target="_blank" rel="noopener noreferrer">
                            許彧嘉
                        </a>
                    </p>
                </div>
                <!-- Instagram -->
                <div class="flex items-center gap-4">
                    <i class="fab fa-instagram text-pink-500 text-2xl"></i>
                    <p>IG: 
                        <a href="https://www.instagram.com/yu.chia_hsu/" class="text-pink-500 underline hover:text-pink-600" target="_blank" rel="noopener noreferrer">
                            yu.chia_hsu
                        </a>
                    </p>
                </div>
            </div>
        </section>
    </main>

    <!-- 頁腳 -->
    <footer class="bg-gray-900 text-gray-400 text-center py-4 mt-10">
        <p>© 2025 Xu Yu-Chia's Blog. 保留所有權利.</p>
        <p>瀏覽次數：<span id="viewCount">0</span></p>
    </footer>

    
</body>
</html>
